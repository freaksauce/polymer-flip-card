<link rel="import" href="../polymer/polymer.html">

<!--
An element that creates a css animation to flip between the front and back content

Example:

    <flip-card></flip-card>

@element flip-card
@demo demo/index.html
-->
<dom-module id="flip-card">

  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;
      }
      .flip-card-container {
        border-radius: 5px;
        border: 1px solid #ccc;
        padding: 15px;
        -webkit-perspective: 1000;
        -moz-perspective: 1000;
        -o-perspective: 1000;
        perspective: 1000;
      }
      .flip-card-container:hover .flipper {
    		-webkit-transform: rotateY(180deg);
    		-moz-transform: rotateY(180deg);
        -o-transform: rotateY(180deg);
    		transform: rotateY(180deg);
    	}
      .flip-card-container, ::content .flip-card-front, ::content .flip-card-back {
      	width: 320px;
      	height: 427px;
      }
      .flipper {
      	-webkit-transition: 0.6s;
      	-webkit-transform-style: preserve-3d;

      	-moz-transition: 0.6s;
      	-moz-transform-style: preserve-3d;

        -o-transition: 0.6s;
      	-o-transform-style: preserve-3d;

      	transition: 0.6s;
      	transform-style: preserve-3d;

      	position: relative;
      }
      ::content .flip-card-front, ::content .flip-card-back {
      	-webkit-backface-visibility: hidden;
      	-moz-backface-visibility: hidden;
        -o-backface-visibility: hidden;
      	backface-visibility: hidden;

      	position: absolute;
      	top: 0;
      	left: 0;
      }

      ::content .flip-card-front {
      	z-index: 2;
      }

      ::content .flip-card-back {
      	-webkit-transform: rotateY(180deg);
      	-moz-transform: rotateY(180deg);
        -o-transform: rotateY(180deg);
      	transform: rotateY(180deg);

      	background: #f8f8f8;
      }

    </style>

    <div class="flip-card-container">
      <div class="flipper">
        <content select=".flip-card-front"></content>
        <content select=".flip-card-back"></content>
      </div>
    </div>

  </template>

</dom-module>

<script>

  Polymer({

    is: 'flip-card',

    properties: {

      /**
       * `animateOnHover` indicates that the element should animate on hover
       */
      flipOnHover: Boolean,

    },

    // Element Lifecycle

    ready: function() {
      // `ready` is called after all elements have been configured, but
      // propagates bottom-up. This element's children are ready, but parents
      // are not.
      //
      // This is the point where you should make modifications to the DOM (when
      // necessary), or kick off any processes the element wants to perform.
    },

    attached: function() {
      // `attached` fires once the element and its parents have been inserted
      // into a document.
      //
      // This is a good place to perform any work related to your element's
      // visual state or active behavior (measuring sizes, beginning animations,
      // loading resources, etc).
    },

    // Element Behavior

    /**
     * The `seed-element-lasers` event is fired whenever `fireLasers` is called.
     *
     * @event seed-element-lasers
     * @detail {{sound: String}}
     */

    /**
     * Sometimes it's just nice to say hi.
     *
     * @param {string} greeting A positive greeting.
     * @return {string} The full greeting.
     */
    sayHello: function(greeting) {
      var response = greeting || 'Hello World!';
      return 'seed-element says, ' + response;
    },

    /**
     * Attempt to destroy this element's enemies with a beam of light!
     *
     * Or, at least, dispatch an event in the vain hope that someone else will
     * do the zapping.
     */
    fireLasers: function() {
      this.fire('seed-element-lasers', {sound: 'Pew pew!'});
    }

  });

</script>
